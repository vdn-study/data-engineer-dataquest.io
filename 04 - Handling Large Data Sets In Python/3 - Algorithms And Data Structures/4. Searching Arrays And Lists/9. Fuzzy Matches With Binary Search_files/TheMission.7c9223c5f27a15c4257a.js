(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1112:function(e,t,n){"use strict";var o=n(12),r=n.n(o),i=n(0),s=n.n(i),a=(n(2),n(7)),c=n(3),l=n(1),u=n.n(l),p=n(11),f=n(22),_=n(198),y=n(40);n(1424);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,d(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,s.a.PureComponent),function(e,t,n){t&&b(e.prototype,t),n&&b(e,n)}(t,[{key:"render",value:function(){return s.a.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"MissionTakeawaysFooter__root",id:this.props.id},s.a.createElement("a",{href:"https://dataquest.io",target:"_blank",className:"MissionTakeawaysFooter__link"},s.a.createElement("div",{className:"MissionTakeawaysFooter__logo"}),s.a.createElement("div",{className:"MissionTakeawaysFooter__text"},this.props.text)))}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(w,"defaultProps",{text:"Powered By Dataquest"}),w.displayName="MissionTakeawaysFooter";var g=w;n(1422);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S={"./MissionTakeaways.scss":{content:"MissionTakeaways__content",paper:"MissionTakeaways__paper",force_paper:"MissionTakeaways__force_paper",button:"MissionTakeaways__button",takeaways:"MissionTakeaways__takeaways",title:"MissionTakeaways__title",copyright:"MissionTakeaways__copyright",share:"MissionTakeaways__share",text:"MissionTakeaways__text",footer:"MissionTakeaways__footer"}};function k(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=Object(c.createStructuredSelector)({}),N=800,T=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return M(P(n=function(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?P(e):t}(this,(e=j(t)).call.apply(e,[this].concat(r)))),"state",{force_paper:!1,pdf_maker_loaded:!1}),M(P(n),"handler_pdf_request",function(){n.props.on_paper?n.make_pdf_document():n.setState({force_paper:!0})}),M(P(n),"make_pdf_document",function(){var e=document.getElementById("pdf_takeaways"),t=0,o=null,r=u.a.flatMap(e.children,function(e){var t=[e],n=u.a.flatMap(e.children,function(e){var n=[e];return u.a.forEach(e.children,function(e){return t.push(e)}),n});return u.a.forEach(n,function(e){return t.push(e)}),t});u.a.forEach(r,function(e){e.offsetTop-t>N&&(o.className+=" html2pdf__page-break",t=o.offsetTop+t),o=e}),n.html2pdf(e,{filename:"mission-".concat(n.props.sequence,"-").concat(n.props.slug,"-takeaways.pdf"),margin:1,html2canvas:{dpi:300,letterRendering:!0},jsPDF:{unit:"in"}})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,s.a.PureComponent),function(e,t,n){t&&k(e.prototype,t),n&&k(e,n)}(t,[{key:"componentDidMount",value:function(){var e=this;this._setState=this.setState,n.e(23).then(n.t.bind(null,1506,7)).then(function(t){null!=e._setState&&(e.html2pdf=t.default,e._setState({pdf_maker_loaded:!0}))})}},{key:"componentDidUpdate",value:function(e,t){this.state.force_paper&&(this.make_pdf_document(),this.setState({force_paper:!1}))}},{key:"componentWillUnmount",value:function(){this._setState=null}},{key:"render_pdf",value:function(){var e="https://"+window.location.host+Object(y.a)(this.props),t=(new Date).getFullYear(),n="by Dataquest Labs, Inc. - All rights reserved Â© ".concat(t);return s.a.createElement("div",{id:"pdf_takeaways",className:"MissionTakeaways__takeaways"},s.a.createElement("div",{className:"MissionTakeaways__title"},s.a.createElement("h1",null,this.props.title,": Takeaways"),s.a.createElement("a",{href:e,className:"MissionTakeaways__share"},s.a.createElement(f.a,{name:"share"}))),s.a.createElement("div",{className:"MissionTakeaways__copyright"},n),s.a.createElement(_.a,{className:"MissionTakeaways__text",body:this.props.text}),s.a.createElement(g,{className:"MissionTakeaways__footer",text:"Takeaways "+n}))}},{key:"render",value:function(){var e=this.props.on_paper?"paper":"content";return this.state.force_paper&&(e="force_paper"),s.a.createElement("div",{className:(this.props.className?this.props.className+" ":"")+r()(e,S)},s.a.createElement(p.a,{color:"gray_to_green",hollow:!0,short:!0,icon_on_left:!0,icon:"download",text:"Download as PDF",title:this.state.pdf_maker_loaded?"":"loading pdf maker...",className:"MissionTakeaways__button",disabled:!this.state.pdf_maker_loaded,onClick:this.handler_pdf_request}),this.render_pdf())}}]),t}();M(T,"defaultProps",{}),T.displayName="MissionTakeaways";t.a=Object(a.b)(x,{})(T)},1165:function(e,t,n){"use strict";var o=n(12),r=n.n(o),i=n(0),s=n.n(i),a=(n(2),n(1418),n(22));function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var u={"./SidePanelTitle.scss":{icon:"SidePanelTitle__icon",light:"SidePanelTitle__light",dark:"SidePanelTitle__dark"}};function p(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_(this,y(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,s.a.PureComponent),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,o=e.className,i=p(e,["icon","title","className"]);return s.a.createElement("div",l({},i,{className:(o?o+" ":"")+r()(this.props.theme,u)}),t&&s.a.createElement(a.a,{name:t,className:"SidePanelTitle__icon"}),n)}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(b,"defaultProps",{theme:"light"}),b.displayName="SidePanelTitle",t.a=b},1397:function(e,t,n){e.exports={root:"PanelPopup__root",body:"PanelPopup__body"}},1398:function(e,t,n){e.exports=n.p+"assets/premiumd505e488b48bd25230aa023f8ffdc939.svg"},1400:function(e,t,n){e.exports={root:"CompletionIcon__root"}},1402:function(e,t,n){e.exports={root:"MissionComplete__root",side:"MissionComplete__side",side_marketing:"MissionComplete__side_marketing",progress_block:"MissionComplete__progress_block",loading:"MissionComplete__loading",image:"MissionComplete__image",icon:"MissionComplete__icon",link:"MissionComplete__link"}},1404:function(e,t,n){e.exports={root:"PanelIndicator__root",active:"PanelIndicator__active",inactive:"PanelIndicator__inactive"}},1406:function(e,t,n){e.exports={root:"MissionEnd__root",panel:"MissionEnd__panel",footer:"MissionEnd__footer",footer_back:"MissionEnd__footer_back",footer_forward:"MissionEnd__footer_forward"}},1408:function(e,t,n){e.exports={root:"MissionFooter__root",right_side:"MissionFooter__right_side",title_side:"MissionFooter__title_side",more:"MissionFooter__more",title:"MissionFooter__title",center:"MissionFooter__center",nav_button:"MissionFooter__nav_button"}},1410:function(e,t,n){e.exports={current:"MissionStepItem__current",root:"MissionStepItem__root",done:"MissionStepItem__done",number:"MissionStepItem__number"}},1412:function(e,t,n){e.exports={side:"MissionSteps__side",root:"MissionSteps__root",shield:"MissionSteps__shield",header:"MissionSteps__header",back:"MissionSteps__back",back_text:"MissionSteps__back_text",back_icon:"MissionSteps__back_icon",icon:"MissionSteps__icon",lesson:"MissionSteps__lesson",steps:"MissionSteps__steps"}},1414:function(e,t,n){e.exports={close:"DqDropMenu__close",open:"DqDropMenu__open",top:"DqDropMenu__top",options:"DqDropMenu__options",icon:"DqDropMenu__icon",text:"DqDropMenu__text",option:"DqDropMenu__option"}},1416:function(e,t,n){e.exports={side_help_panel:"MissionAnswer__side_help_panel"}},1418:function(e,t,n){e.exports={dark:"SidePanelTitle__dark",light:"SidePanelTitle__light",icon:"SidePanelTitle__icon"}},1420:function(e,t,n){e.exports={root:"ScrollAccordion__root",bottom_headers:"ScrollAccordion__bottom_headers",top_headers:"ScrollAccordion__top_headers",body:"ScrollAccordion__body",in_header:"ScrollAccordion__in_header",in_text:"ScrollAccordion__in_text",section:"ScrollAccordion__section"}},1422:function(e,t,n){e.exports={takeaways:"MissionTakeaways__takeaways",copyright:"MissionTakeaways__copyright",content:"MissionTakeaways__content",force_paper:"MissionTakeaways__force_paper",paper:"MissionTakeaways__paper",button:"MissionTakeaways__button",title:"MissionTakeaways__title",share:"MissionTakeaways__share",text:"MissionTakeaways__text",footer:"MissionTakeaways__footer"}},1424:function(e,t,n){e.exports={text:"MissionTakeawaysFooter__text",root:"MissionTakeawaysFooter__root",link:"MissionTakeawaysFooter__link",logo:"MissionTakeawaysFooter__logo"}},1426:function(e,t,n){e.exports={instructions:"MissionLearn__instructions",section:"MissionLearn__section",solution:"MissionLearn__solution",takeaways:"MissionLearn__takeaways",light:"MissionLearn__light",dark:"MissionLearn__dark"}},1428:function(e,t,n){e.exports={dark:"MissionInformation__dark",light:"MissionInformation__light",body:"MissionInformation__body"}},1430:function(e,t,n){e.exports={root:"TheMission__root",split_pane:"TheMission__split_pane",not_interactive:"TheMission__not_interactive",is_interactive:"TheMission__is_interactive"}},1505:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"get_end_info",function(){return no});var r=n(12),i=n.n(r),s=n(0),a=n.n(s),c=(n(2),n(7)),l=n(3),u=n(1),p=n.n(u),f=(n(1430),n(1428),n(1426),n(198)),_=n(1112),y=(n(1420),n(215)),m=n(125),b=n(1165);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var w={"./ScrollAccordion.scss":{root:"ScrollAccordion__root",top_headers:"ScrollAccordion__top_headers",bottom_headers:"ScrollAccordion__bottom_headers",body:"ScrollAccordion__body",in_header:"ScrollAccordion__in_header",in_text:"ScrollAccordion__in_text",section:"ScrollAccordion__section"}};function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function S(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function k(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?P(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=1,T=function(e){function t(){var e,n;g(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return x(P(n=k(this,(e=j(t)).call.apply(e,[this].concat(r)))),"_clicked",function(){n.props.onSelected(n.props.title)}),n}return E(t,a.a.PureComponent),S(t,[{key:"render",value:function(){return a.a.createElement(b.a,{onClick:this._clicked,id:this.props.id,title:this.props.title,icon:this.props.icon,theme:this.props.theme,className:i()(this.props.in_text?"in_text":"in_header",w)})}}]),t}();T.displayName="SectionTitle";var C=function(e){function t(){var e,n;g(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return x(P(n=k(this,(e=j(t)).call.apply(e,[this].concat(r)))),"state",{headers:{}}),x(P(n),"openSection",function(e){if(null!=n._sections[e]){var t=n._sections[e],o=t.ref.offsetTop,r=t.order,i=(n._sections[e].ref.firstChild.clientHeight+N+N)*r;clearTimeout(n._animate_id),n._animate_id=Object(y.a)(n._scrollarea,o-i+4)}}),x(P(n),"am_scrolling",function(){if(null!=n._scrollarea){var e=n._scrollarea,t=e.offsetHeight,o=e.scrollTop,r=e.clientWidth;n._top_headers.style.width="".concat(r,"px"),n._bottom_headers.style.width="".concat(r,"px");var i=!1,s=p.a.mapValues(n._sections,function(e,r){var s=e.ref;return s.offsetTop<o+n._top_headers.clientHeight?(i=i||"above"!==n.state.headers[r],s.firstChild.style.opacity=0,"above"):s.offsetTop+s.firstChild.clientHeight>o+t-n._bottom_headers.clientHeight?(i=i||"below"!==n.state.headers[r],s.firstChild.style.opacity=0,"below"):(i=i||"shown"!==n.state.headers[r],s.firstChild.style.opacity=1,"shown")});i&&n.setState({headers:s})}}),x(P(n),"render_a_header",function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var o=t.props.title;return n.state.headers[o]!==(e?"above":"below")?null:a.a.createElement(T,v({},t.props,{key:o,onSelected:n.openSection,id:t.props.id}))}}),x(P(n),"_ref_for_child",function(e,t){return function(o){null===o?delete n._sections[t]:n._sections[t]={ref:o,order:e}}}),x(P(n),"render_child",function(e,t){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e.props);return"shown"!==n.state.headers[e.props.title]&&delete o.id,a.a.createElement("div",{key:e.props.title,className:"ScrollAccordion__section",ref:n._ref_for_child(t,e.props.title)},a.a.createElement(T,v({},o,{in_text:!0,onSelected:n.openSection})),a.a.createElement(m.a,{onResize:n.am_scrolling}),e.props.children)}),x(P(n),"set_scrollarea_ref",function(e){n._scrollarea=e}),n}return E(t,a.a.PureComponent),S(t,[{key:"componentWillMount",value:function(){this._sections={}}},{key:"componentDidMount",value:function(){this._scrollarea.addEventListener("scroll",this.am_scrolling,{passive:!0}),this.am_scrolling()}},{key:"componentWillReceiveProps",value:function(e){e.id!==this.props.id&&(this._scrollarea.scrollTop=0,this.am_scrolling())}},{key:"componentDidUpdate",value:function(){this.am_scrolling()}},{key:"componentWillUnmount",value:function(){this._scrollarea.removeEventListener("scroll",this.am_scrolling),this._scrollarea=null}},{key:"render",value:function(){var e=this,t=s.Children.toArray(this.props.children).filter(function(e){return e.type===D});return a.a.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"ScrollAccordion__root"},a.a.createElement("div",{className:"ScrollAccordion__top_headers",ref:function(t){e._top_headers=t}},t.map(this.render_a_header())),a.a.createElement("div",{className:"ScrollAccordion__body",ref:this.set_scrollarea_ref},t.map(this.render_child)),a.a.createElement("div",{className:"ScrollAccordion__bottom_headers",ref:function(t){e._bottom_headers=t}},t.map(this.render_a_header(!1))))}}]),t}();x(C,"defaultProps",{}),C.displayName="ScrollAccordion";var D=function(e){function t(){return g(this,t),k(this,j(t).apply(this,arguments))}return E(t,a.a.PureComponent),t}();C.Section=D;var A=C;function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function L(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),L(this,F(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(t,a.a.PureComponent),function(e,t,n){t&&q(e.prototype,t),n&&q(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.missionMarkup,o=e.className,r=n.processCleanupHTML(t);return r=n.processLinks(r),r=n.processWithMarkDeep(r),r=n.processWithKaTex(r),a.a.createElement("div",{className:o,dangerouslySetInnerHTML:{__html:r}})}}]),t}();W.displayName="MissionHelp";var z=W,H=(n(1416),n(67)),U=n(14);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function G(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=p.a.pick(U.c,["tries_before_answer","run_count","current_step_info","current_step_output"]),V=Object(l.createStructuredSelector)(Q),X=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),G(this,J(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,a.a.Component),function(e,t,n){t&&Y(e.prototype,t),n&&Y(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.run_count,n=e.tries_before_answer,o=e.className;if(n<=t||this.props.current_step_output.success)return a.a.createElement(H.a,{className:o,value:this.props.current_step_info.answer,mode:this.props.current_step_info.editor_language,readOnly:!0,onDark:"dark"===this.props.theme});var r=n-t,i=1===r?"time":"times";return a.a.createElement("div",{className:o},"You'll need to run code ",r," more ",i," before you can see the answer.")}}]),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(X,"defaultProps",{theme:"dark"}),X.displayName="MissionAnswer";var Z=Object(c.b)(V,{})(X),$=(n(1414),n(22));function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var ne={"./DqDropMenu.scss":{open:"DqDropMenu__open",top:"DqDropMenu__top",close:"DqDropMenu__close",options:"DqDropMenu__options",icon:"DqDropMenu__icon",text:"DqDropMenu__text",option:"DqDropMenu__option"}};function oe(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function re(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=1e3,ue=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return ce(se(n=function(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?se(e):t}(this,(e=ie(t)).call.apply(e,[this].concat(r)))),"state",{open:!1}),ce(se(n),"toggle_state",function(){n.state.open?n.close_state():n.open_state()}),ce(se(n),"open_state",function(){n.props.open_close_listener("open"),n.setState({open:!0})}),ce(se(n),"close_state",function(){n.props.open_close_listener("close"),n.setState({open:!1})}),ce(se(n),"toggle_off",function(){window.clearTimeout(n._timer),n._timer=window.setTimeout(n.close_state,le)}),ce(se(n),"toggle_on",function(){window.clearTimeout(n._timer),n._timer=window.setTimeout(n.open_state,le)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,a.a.PureComponent),function(e,t,n){t&&re(e.prototype,t),n&&re(e,n)}(t,[{key:"componentWillUnmount",value:function(){window.clearTimeout(this._timer)}},{key:"render_menu_options",value:function(e){return a.a.createElement("div",{className:"DqDropMenu__options",onClick:this.close_state},e.map(function(e){return a.a.createElement("div",{key:e.text,onClick:e.onClick,className:"DqDropMenu__option",title:e.title,"data-test-selector":e.testSelector},e.text)}))}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.options,o=(e.open_close_listener,e.test_selector),r=oe(e,["title","options","open_close_listener","test_selector"]);return a.a.createElement("div",te({onMouseLeave:this.toggle_off,onMouseEnter:this.toggle_on},r,{className:i()(this.state.open?"open":"close",ne)}),a.a.createElement("div",{className:"DqDropMenu__top",onClick:this.toggle_state,"data-test-selector":o},a.a.createElement("div",{className:"DqDropMenu__text"},t),a.a.createElement("div",{className:"DqDropMenu__icon"},a.a.createElement($.a,{name:"down"}))),this.render_menu_options(n))}}]),t}();ce(ue,"defaultProps",{open_close_listener:function(){}}),ue.displayName="DqDropMenu";var pe=ue,fe=n(116),_e=n(202),ye=n(21);function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var be={"./MissionLearn.scss":{section:"MissionLearn__section",instructions:"MissionLearn__instructions",solution:"MissionLearn__solution",takeaways:"MissionLearn__takeaways",light:"MissionLearn__light",dark:"MissionLearn__dark"}};function he(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(n,!0).forEach(function(t){Se(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=Oe({},p.a.pick(U.c,["current_step_index","current_step_info","show_help","show_answer"]),{mission_info:ye.d.mission_info}),je=function(e){var t=e.type,n=e.include_payload,o=void 0!==n&&n;return function(e){return o?{type:t,payload:e}:{type:t}}},Pe=Oe({},U.b,{open_for_mission:_e.a.open_for_mission,get_help_listener:je({type:"MissionLearn/get_help",include_payload:!0}),intercom_listener:je({type:"MissionLearn/intercom",include_payload:!0})}),Ee=Object(l.createStructuredSelector)(ke),Me="The Answer",xe=100,Ne=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Se(ve(n=function(e,t){return!t||"object"!==me(t)&&"function"!=typeof t?ve(e):t}(this,(e=de(t)).call.apply(e,[this].concat(r)))),"state",{get_help_options:[]}),Se(ve(n),"hot_keys",{"alt+a":{priority:1,handler:function(){return n.show_the_answer()}}}),Se(ve(n),"show_the_answer",function(){return 0!==n.props.current_step_info.answer.length&&(n.props.set_show_answer(!0),setTimeout(function(){return n._accordion&&n._accordion.openSection(Me)},xe),!1)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(t,a.a.PureComponent),function(e,t,n){t&&he(e.prototype,t),n&&he(e,n)}(t,[{key:"componentWillMount",value:function(){this.make_help_options(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.make_help_options(e)}},{key:"make_help_options",value:function(e){var t=this,n={mission_sequence:e.mission_info.sequence,mission_title:e.mission_info.title,screen_sequence:e.current_step_info.sequence,screen_title:e.current_step_info.title,screen_id:e.current_step_info.id},o=[];e.current_step_info.help.length>0&&o.push({text:"Get a hint",testSelector:"mission-help-get-hint",onClick:function(){window.analytics.track("mission_get_help",Object.assign({help_type:"hint"},n)),e.set_show_help(!0),setTimeout(function(){return t._accordion&&t._accordion.openSection("Hint")},xe)}}),e.current_step_info.answer.length>0&&o.push({text:"See the answer",title:"[".concat(Object(fe.hotkey_display)("alt+a"),"] to See the answer"),testSelector:"mission-help-show-answer",onClick:function(){window.analytics.track("mission_get_help",Object.assign({help_type:"answer"},n)),t.show_the_answer()}}),o.push({text:"Message Us",onClick:function(){window.analytics.track("mission_get_help",Object.assign({help_type:"message"},n)),e.intercom_listener("show"),e.open_for_mission()}}),this.setState({get_help_options:o})}},{key:"render_learn",value:function(e){return 0===e.body.length?null:a.a.createElement(A.Section,{title:"Learn",id:"onboarding-tip-learn",theme:this.props.theme},a.a.createElement(f.a,{body:e.body,processPreCode:!0,className:"MissionLearn__section",theme:this.props.theme}))}},{key:"render_instructions",value:function(e){return"text"===e.type||0===e.instructions.length?null:a.a.createElement(A.Section,{title:"instructions",id:"onboarding-tip-instructions",theme:this.props.theme},a.a.createElement(f.a,{className:"MissionLearn__instructions",body:e.instructions,theme:this.props.theme}),this.render_help_menu())}},{key:"render_help_menu",value:function(){return 0===this.state.get_help_options.length?null:a.a.createElement("div",{className:"MissionLearn__section"},a.a.createElement(pe,{title:"Get Help",options:this.state.get_help_options,open_close_listener:this.props.get_help_listener,theme:this.props.theme,test_selector:"GetHelpMenu"}))}},{key:"render_help",value:function(){return this.props.show_help?a.a.createElement(A.Section,{title:"Hint",theme:this.props.theme},a.a.createElement(z,{className:"MissionLearn__section",text:this.props.current_step_info.help,missionMarkup:f.a})):null}},{key:"render_answer",value:function(){return this.props.show_answer?a.a.createElement(A.Section,{title:Me,theme:this.props.theme},a.a.createElement(Z,{className:"MissionLearn__solution",theme:this.props.theme})):null}},{key:"render",value:function(){var e=this,t=this.props.current_step_info;return"takeaways"===this.props.current_step_info.type?a.a.createElement("div",{className:"MissionLearn__takeaways"},a.a.createElement(_.a,{on_paper:!0,title:this.props.mission_info.title,sequence:this.props.mission_info.sequence,slug:this.props.mission_info.slug,text:this.props.current_step_info.body})):a.a.createElement(A,{id:t.sequence,ref:function(t){e._accordion=t},className:i()(this.props.theme,be)},this.render_learn(t),this.render_instructions(t),this.render_help(),this.render_answer())}}]),t}();Se(Ne,"defaultProps",{theme:"light"}),Ne.displayName="MissionLearn";var Te=Object(c.b)(Ee,Pe)(Object(fe.hotkeys)(Ne)),Ce=n(36),De=n(37),Ae=n.n(De),Ie={loader:function(){return Promise.all([n.e(24),n.e(28)]).then(n.bind(null,1503))},loading:function(e){return a.a.createElement(Ce.a,e)}},qe=Ae()(Ie),Le=Ae()({loader:function(){return n.e(27).then(n.bind(null,1500))},loading:function(e){return a.a.createElement(Ce.a,e)}}),Fe=n(151),Re=n(69),We=n(4),ze=n(24),He=n(60);function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Be={"./MissionInformation.scss":{light:"MissionInformation__light",dark:"MissionInformation__dark",body:"MissionInformation__body"}};function Ye(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve={is_moderator:We.b.is_moderator,current_step_index:U.c.current_step_index,active_tab:ye.d.active_tab,theme:He.b.text_theme},Xe={fetch_directory:ze.a.fetch_directory,open_tab:ye.b.open_tab},Ze=Object(l.createStructuredSelector)(Ve),$e=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Qe(Je(n=function(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?Je(e):t}(this,(e=Ge(t)).call.apply(e,[this].concat(r)))),"state",{tabs:[]}),Qe(Je(n),"on_tab_select",function(e){return n.props.open_tab({select:e})}),Qe(Je(n),"help_open_discuss",function(){return n.props.open_tab({select:"FAQ",source:"get help"})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,a.a.Component),function(e,t,n){t&&Ye(e.prototype,t),n&&Ye(e,n)}(t,[{key:"componentWillMount",value:function(){var e=[{text:"Learn",icon:"book"},{text:"Mission Reference",icon:"search"}];this.props.is_moderator&&e.push({text:"Admin"}),this.setState({tabs:e}),this.props.fetch_directory(),qe.preload()}},{key:"componentWillReceiveProps",value:function(e){e.current_step_index!==this.props.current_step_index&&"Learn"!==this.props.active_tab&&this.props.open_tab({select:"Learn"})}},{key:"render_body",value:function(){switch(this.props.active_tab){case"Mission Reference":return a.a.createElement(qe,{theme:this.props.theme});case"Admin":return a.a.createElement(Le,null);default:return a.a.createElement(Te,{onOpenDiscuss:this.help_open_discuss,theme:this.props.theme})}}},{key:"render",value:function(){var e=this;return a.a.createElement(Re.a,{part_name:"info",className:i()(this.props.theme,Be)},a.a.createElement(Fe.a,null,this.state.tabs.map(function(t){return a.a.createElement(Re.a,{key:t.text,part_name:t.text},a.a.createElement(Fe.a.Tab,{key:t.text,title:t.text,icon:t.icon,onSelect:e.on_tab_select,selected:e.props.active_tab===t.text}))})),a.a.createElement("div",{className:"MissionInformation__body"},this.render_body()))}}]),t}();Qe($e,"defaultProps",{theme:"light"}),$e.displayName="MissionInformation";var et=Object(c.b)(Ze,Xe)($e),tt=n(217),nt=(n(1412),n(55));n(1410);function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var rt={"./MissionStepItem.scss":{root:"MissionStepItem__root",current:"MissionStepItem__current",number:"MissionStepItem__number",done:"MissionStepItem__done"}};function it(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ct(e,t){return(ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lt=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(at(n=function(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?at(e):t}(this,(e=st(t)).call.apply(e,[this].concat(r)))),"_click",function(){return n.props.onSelected(n.props.index)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ct(e,t)}(t,a.a.PureComponent),function(e,t,n){t&&it(e.prototype,t),n&&it(e,n)}(t,[{key:"render",value:function(){return a.a.createElement("div",{onClick:this._click,id:"step-".concat(this.props.index),className:i()(this.props.current?"current":"root",rt)},this.props.completed?a.a.createElement($.a,{name:"pass",className:"MissionStepItem__done"}):a.a.createElement("span",{className:"MissionStepItem__number"},this.props.index+1,"."),this.props.title)}}]),t}();lt.displayName="MissionStepItem";var ut=lt;function pt(e){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(){return(ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function _t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vt=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(n,!0).forEach(function(t){dt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},p.a.pick(U.c,["current_step_index","step_list"]),{mission_info:ye.d.mission_info}),wt=U.b,gt=Object(l.createStructuredSelector)(vt),Ot=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return dt(mt(n=function(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?mt(e):t}(this,(e=yt(t)).call.apply(e,[this].concat(r)))),"_directly_to_step",function(e){n.props.directly_to_step(e),n.props.onClose()}),dt(mt(n),"renderStep",function(e,t){return a.a.createElement(ut,ft({key:t+" "+e.title},e,{current:t===n.props.current_step_index,index:t,onSelected:n._directly_to_step}))}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(t,a.a.PureComponent),function(e,t,n){t&&_t(e.prototype,t),n&&_t(e,n)}(t,[{key:"render",value:function(){var e=Math.max(this.props.current_step_index-2,0);return a.a.createElement("div",{className:"MissionSteps__root"},a.a.createElement("div",{className:"MissionSteps__shield",onClick:this.props.onClose}),a.a.createElement("div",{className:"MissionSteps__side"},a.a.createElement("div",{className:"MissionSteps__header"},a.a.createElement("div",{className:"MissionSteps__back",onClick:this.props.onClose},a.a.createElement("div",{className:"MissionSteps__back_icon"},a.a.createElement($.a,{name:"left",className:"MissionSteps__icon"})),a.a.createElement("div",{className:"MissionSteps__back_text"},"Close")),a.a.createElement("h2",null,this.props.mission_info.title),a.a.createElement("div",null,this.props.mission_info.description)),a.a.createElement("div",{className:"MissionSteps__lesson"},"Steps"),a.a.createElement(y.b,{className:"MissionSteps__steps",scroll_to_id:"step-".concat(e)},this.props.step_list.map(this.renderStep),a.a.createElement(nt.a,{color:"danger",text:"reset progress",new_style:!0,hollow:!0,borderless:!0,confirmTitle:"Reset mission progress?",confirmText:'You will lose all of your progress on the "'.concat(this.props.mission_info.title,'" mission!'),confirmButtonText:"Reset",dangerMode:!0,onClick:this.props.reset_all_progress}))))}}]),t}();Ot.displayName="MissionSteps";var St=Object(c.b)(gt,wt)(Ot),kt=(n(1408),n(11));function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nt={current_step_index:U.c.current_step_index,step_list:U.c.step_list},Tt=U.b,Ct=Object(l.createStructuredSelector)(Nt),Dt=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Mt(n=function(e,t){return!t||"object"!==jt(t)&&"function"!=typeof t?Mt(e):t}(this,(e=Et(t)).call.apply(e,[this].concat(r)))),"hot_keys",{"alt+n":{priority:1,handler:function(){return n.props.next_step(),!1}},"alt+b":{priority:1,handler:function(){return n.props.back_step(),!1}}}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(t,a.a.Component),function(e,t,n){t&&Pt(e.prototype,t),n&&Pt(e,n)}(t,[{key:"render_next",value:function(){var e=this.props,t=e.current_step_index,n=e.step_list,o="Next",r="[".concat(Object(fe.hotkey_display)("alt+n"),"] Next Screen");return n.length-1===t&&(o="Finish",r="[".concat(Object(fe.hotkey_display)("alt+n"),"] Goto Mission End")),a.a.createElement(kt.a,{short:!0,onDark:!0,hollow:!0,color:"white",className:"MissionFooter__nav_button",text:o,title:r,onClick:this.props.next_step})}},{key:"render",value:function(){var e=this.props,t=e.current_step_index,n=e.step_list;if(0===n.length)return a.a.createElement("div",{className:"MissionFooter__root"});var o=n[t].title;return a.a.createElement(Re.a,{className:"MissionFooter__root",part_name:"footer"},a.a.createElement("div",{className:"MissionFooter__title_side",onClick:this.props.onOpenSteps},a.a.createElement($.a,{name:"bars",className:"MissionFooter__more"}),a.a.createElement("div",{className:"MissionFooter__title"},t+1,". ",o)),a.a.createElement("div",{className:"MissionFooter__center"},a.a.createElement(kt.a,{text:"back",short:!0,onDark:!0,color:"white",hollow:!0,className:"MissionFooter__nav_button",title:"[".concat(Object(fe.hotkey_display)("alt+b"),"] Back a Screen"),disabled:0===t,onClick:this.props.back_step}),a.a.createElement("div",null,t+1," / ",n.length),this.render_next()),a.a.createElement("div",{className:"MissionFooter__right_side"}))}}]),t}();Dt.displayName="MissionFooter";var At=Object(c.b)(Ct,Tt)(Object(fe.hotkeys)(Dt));n(1406),n(1404);function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var qt={"./PanelIndicator.scss":{root:"PanelIndicator__root",inactive:"PanelIndicator__inactive",active:"PanelIndicator__active"}};function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Rt(e,t,n){return t&&Ft(e.prototype,t),n&&Ft(e,n),e}function Wt(e,t){return!t||"object"!==It(t)&&"function"!=typeof t?Ht(e):t}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bt(e,t)}function Bt(e,t){return(Bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yt=function(e){function t(){var e,n;Lt(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ht(n=Wt(this,(e=zt(t)).call.apply(e,[this].concat(r)))),"_onClick",function(){return n.props.onSelect(n.props.index)}),n}return Ut(t,a.a.PureComponent),Rt(t,[{key:"render",value:function(){return a.a.createElement("div",{onClick:this._onClick,className:i()(this.props.active?"active":"inactive",qt)})}}]),t}();Yt.displayName="Indicator";var Gt=function(e){function t(){return Lt(this,t),Wt(this,zt(t).apply(this,arguments))}return Ut(t,a.a.PureComponent),Rt(t,[{key:"render",value:function(){var e=this;return this.props.count<=1?a.a.createElement("div",{className:"PanelIndicator__root"}):a.a.createElement("div",{className:"PanelIndicator__root"},p.a.times(this.props.count,function(t){return a.a.createElement(Yt,{index:t,key:t,onSelect:e.props.onSelect,active:t===e.props.active_index})}))}}]),t}();Gt.displayName="PanelIndicator";var Jt=Gt,Kt=(n(1402),n(79)),Qt=n(245),Vt=(n(1400),n(243));function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $t(e,t){return!t||"object"!==Xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$t(this,en(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(t,a.a.PureComponent),function(e,t,n){t&&Zt(e.prototype,t),n&&Zt(e,n)}(t,[{key:"render",value:function(){var e={backgroundImage:'url("'.concat(this.props.icon_name,'")'),position:"relative"};return this.props.course_icon&&(e.backgroundSize="60% 60%"),a.a.createElement("div",{style:e,className:(this.props.className?this.props.className+" ":"")+"CompletionIcon__root"},a.a.createElement(Vt.a,{options:this.props.options,percentage:this.props.progress,color:this.props.light?"gray":"white"}))}}]),t}();nn.displayName="CompletionIcon";var on=nn,rn=n(287),sn=n(17),an=n(220),cn=n(44);function ln(e){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function un(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function pn(e,t){return!t||"object"!==ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yn=[{text:"Unlock hundreds of hours of data science and engineering content"},{text:"Get help from our experts during office hours"},{text:"Connect and collaborate with your fellow learners"},{text:"Work on guided projects to build your portfolio"}],mn={cutoutPercentage:86,animation:{duration:1e3}},bn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pn(this,fn(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(t,a.a.PureComponent),function(e,t,n){t&&un(e.prototype,t),n&&un(e,n)}(t,[{key:"render_right_side",value:function(){return this.props.on_free_plan?a.a.createElement(sn.a,{centered:!0,className:"MissionComplete__side_marketing"},a.a.createElement("h2",null,"Want to learn more?",a.a.createElement("br",null),"Go further with Dataquest Premium!"),a.a.createElement("img",{className:"MissionComplete__image",src:n(1398)}),a.a.createElement(Qt.a,{features:yn}),a.a.createElement("div",{className:"spacer"}),a.a.createElement(an.a,{text:"Learn More",className:"MissionComplete__link",onClick:function(){window.location.replace("https://www.dataquest.io/subscribe/")}}),a.a.createElement("div",{className:"spacer"})):null}},{key:"render_progress",value:function(){var e=this.props.course;return 0===e.progress?a.a.createElement("div",{className:"MissionComplete__progress_block"},a.a.createElement(cn.a,{message:"Updating your progress",className:"MissionComplete__loading"})):a.a.createElement("div",{className:"MissionComplete__progress_block"},a.a.createElement("p",null,"You are ",a.a.createElement("b",null,Object(Kt.a)(e.progress))," through the ",a.a.createElement("br",null),e.title," course"),a.a.createElement("div",{className:"spacer"}),a.a.createElement(on,{light:!0,course_icon:!0,className:"MissionComplete__icon",progress:e.progress,icon_name:Object(rn.a)(e.slug),options:mn}),a.a.createElement("div",{className:"spacer"}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"MissionComplete__root"},a.a.createElement(sn.a,{light:!0,centered:!0,className:"MissionComplete__side"},a.a.createElement("h1",null,a.a.createElement("b",null,"Congratulations!")),a.a.createElement("h2",{style:{marginTop:0}},a.a.createElement("b",null,"You've finished the mission")),this.render_progress()),this.render_right_side())}}]),t}();bn.displayName="MissionComplete";var hn=bn,dn=n(18),vn=n(68),wn=n(40);function gn(e){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function On(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Sn(e){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var En={is_subscribed:We.b.is_subscribed,mission_next:ye.d.mission_next,user_id:We.b.user_id,mission_info:ye.d.mission_info},Mn={push_route:dn.c},xn=Object(l.createStructuredSelector)(En),Nn=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Pn(kn(n=function(e,t){return!t||"object"!==gn(t)&&"function"!=typeof t?kn(e):t}(this,(e=Sn(t)).call.apply(e,[this].concat(r)))),"skip_plus",function(){return n.props.is_subscribed&&"plus"===n.props.mission_next.upgrade_suggestion}),Pn(kn(n),"gotoNext",function(){var e=n.props,t=e.mission_next,o=e.push_route;return t.allowed?(o(Object(wn.a)(t)),Promise.resolve()):n.skip_plus()?(o(Object(wn.a)(t.alternate)),Promise.resolve()):n.props.dq_alert({title:"We're going to need to skip ahead",type:"warning",text:n.get_alert_text(),cancelButtonText:"Preview Mission",confirmButtonText:"Skip Ahead",allowOutsideClick:!1,allowEscapeKey:!1}).then(function(){n.send_paywall_event("Skip Ahead"),o(Object(wn.a)(t.alternate))}).catch(function(){n.send_paywall_event("Preview Mission"),o(Object(wn.a)(t))})}),Pn(kn(n),"send_paywall_event",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={user_id:n.props.user_id,mission_id:n.props.mission_info.id,element:e};window.analytics.track("next-mission-paywall",t)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}(t,a.a.PureComponent),function(e,t,n){t&&On(e.prototype,t),n&&On(e,n)}(t,[{key:"get_html_link",value:function(e){return'<a href="'+Object(wn.a)(e)+'">'+e.title+"</a>"}},{key:"get_alert_text",value:function(){var e=this.props.mission_next;return"You need our ".concat(e.upgrade_suggestion,' plan to access Mission: "').concat(e.title,'".')+"\n\n"+'Or you can skip ahead to Mission: "'.concat(e.alternate.title,'" with your current plan.')}},{key:"render",value:function(){var e=this.skip_plus()?this.props.mission_next.alternate.title:this.props.mission_next.title;return a.a.createElement(kt.a,{color:"green",text:"Next mission",title:"Next mission: ".concat(e),icon:"right",onClick:this.gotoNext,"data-test-selector":"next-mission-btn"})}}]),t}();Pn(Nn,"defaultProps",{dq_alert:vn.a}),Nn.displayName="NextMissionButton";var Tn=Object(c.b)(xn,Mn)(Nn),Cn=(n(1397),n(62));function Dn(e){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function In(e,t){return!t||"object"!==Dn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qn(e){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),In(this,qn(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ln(e,t)}(t,a.a.PureComponent),function(e,t,n){t&&An(e.prototype,t),n&&An(e,n)}(t,[{key:"render",value:function(){return a.a.createElement(Cn.a,{className:"PanelPopup__root"},a.a.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"PanelPopup__body"},this.props.children))}}]),t}();Fn.displayName="PanelPopup";var Rn=Fn,Wn=n(13),zn=n.n(Wn),Hn=n(10);function Un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yn={in_course:{title:"",slug:"",progress:0}},Gn=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Un(n,!0).forEach(function(t){Bn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Un(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Object(Hn.make_simple_selectors)(Yn,"mission_end_info")),Jn={reset:function(){return zn()(Yn)}},Kn=Object(Hn.make_reducer_n_actions)({public_handlers:Jn,private_handlers:{set_info:function(e,t){var n=t.payload;return e.merge({in_course:n})}},action_types_prefix:"mission_end_info/",initial_state:Yn,Immutable:zn.a}),Qn=Kn.reducer,Vn=Kn.private_actions,Xn=Kn.actions,Zn=(Kn.ACTION_TYPES,Qn),$n=n(8);function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function to(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var no=function(e){return function(t,n){t(Xn.reset());var o="{\n    mission(sequence: ".concat(e,") {\n      in_course {\n        title: name\n        slug\n      }\n    }\n  }");return Object($n.c)(o).then(function(e){var t=e.data.mission.in_course;return Object($n.c)(function(e){return'{\n    progress {\n      course(slug: "'.concat(e,'") {\n        progress\n      }\n    }\n  }')}(t.slug)).then(function(e){var n=e.data;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(n,!0).forEach(function(t){to(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{},n.progress.course)})}).then(function(e){return t(Vn.set_info(e))}).catch(console.error)}},oo=n(15),ro=Object.assign({},Xn,o);Object(oo.a)({mission_end_info:Zn});function io(e){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function so(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ao(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function co(e,t,n){return t&&ao(e.prototype,t),n&&ao(e,n),e}function lo(e,t){return!t||"object"!==io(t)&&"function"!=typeof t?po(e):t}function uo(e){return(uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function po(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_o(e,t)}function _o(e,t){return(_o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yo(n,!0).forEach(function(t){bo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yo(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ho=mo({},Gn,{mission_sequence:function(e){return ye.d.mission_info(e).sequence},open_end_of_mission:U.c.open_end_of_mission,plan_name:We.b.plan_name}),vo=mo({},ro,{back_step:U.b.back_step}),wo=Object(l.createStructuredSelector)(ho),go=function(e){function t(){var e,n;so(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return bo(po(n=lo(this,(e=uo(t)).call.apply(e,[this].concat(r)))),"state",{active_panel_index:0,panels:[]}),bo(po(n),"_change_panel",function(e){n.setState({active_panel_index:e})}),bo(po(n),"_back",function(){0!==n.state.active_panel_index?n.setState({active_panel_index:n.state.active_panel_index-1}):n.props.back_step()}),bo(po(n),"_next",function(){n.setState({active_panel_index:n.state.active_panel_index+1})}),n}return fo(t,a.a.PureComponent),co(t,[{key:"componentWillMount",value:function(){this.setup_panels(),this.props.get_end_info(this.props.mission_sequence)}},{key:"componentWillReceiveProps",value:function(e){this.setup_panels(e)}},{key:"setup_panels",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;var e=["MissionComplete"];p.a.isEqual(this.state.panel,e)||this.setState({panels:e})}},{key:"render_panel",value:function(){return this.state.panels[this.state.active_panel_index],a.a.createElement(hn,{on_free_plan:"free"===this.props.plan_name,course:this.props.in_course})}},{key:"render_next",value:function(){return this.state.panels.length-1<=this.state.active_panel_index?a.a.createElement(Tn,null):a.a.createElement(kt.a,{color:"gray",text:"Next",icon:"right",onClick:this._next})}},{key:"render",value:function(){return a.a.createElement("div",{className:"MissionEnd__root"},a.a.createElement("div",{className:"MissionEnd__panel"},this.render_panel()),a.a.createElement("div",{className:"MissionEnd__footer"},a.a.createElement("div",{className:"MissionEnd__footer_back"},a.a.createElement(kt.a,{color:"gray",onDark:!0,text:"Back",icon:"left",onClick:this._back})),a.a.createElement(Jt,{count:this.state.panels.length,active_index:this.state.active_panel_index,onSelect:this._change_panel}),a.a.createElement("div",{className:"MissionEnd__footer_forward"},this.render_next())))}}]),t}();go.displayName="MissionEnd";var Oo=function(e){function t(){return so(this,t),lo(this,uo(t).apply(this,arguments))}return fo(t,a.a.PureComponent),co(t,[{key:"render",value:function(){return this.props.open_end_of_mission?a.a.createElement(Rn,null,a.a.createElement(go,this.props)):null}}]),t}();Oo.displayName="MissionEndInPopup";var So=Object(c.b)(wo,vo)(Oo),ko=n(1395),jo=n.n(ko),Po=n(204);function Eo(e){return(Eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"selectors",function(){return Io}),n.d(t,"actions",function(){return qo}),n.d(t,"TheMission",function(){return Ro});var Mo={"./TheMission.scss":{root:"TheMission__root",split_pane:"TheMission__split_pane",not_interactive:"TheMission__not_interactive",is_interactive:"TheMission__is_interactive"}};function xo(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function No(e){return(No=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function To(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Co(e,t){return(Co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Do(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Io=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Do(n,!0).forEach(function(t){Ao(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Do(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({mission_info:ye.d.mission_info,is_logged_in:We.b.is_logged_in,is_new_user:We.b.is_new_user,editor_type:function(e){return U.c.current_step_info(e).type}},p.a.pick(He.b,["autocomplete","editor_theme","text_theme"]),{settings_loading:He.b.is_loading}),qo={setup_mission:ye.b.setup_mission,on_mission_heartbeat:ye.b.on_mission_heartbeat,get_mission_files:Po.a.get_mission_files},Lo=Object(l.createStructuredSelector)(Io),Fo=["snippet_runner","command_line","widget","jupyter","file_editor"],Ro=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return Ao(To(n=function(e,t){return!t||"object"!==Eo(t)&&"function"!=typeof t?To(e):t}(this,(e=No(t)).call.apply(e,[this].concat(r)))),"state",{steps_open:!1,min_split_width:200,max_split_width:1e3,split_size:null,user_split_size:"50%",is_dragging:!1}),Ao(To(n),"updateSplitSize",function(e){var t=Fo.indexOf(e)>-1?n.state.user_split_size:"100%";n.setState({split_size:t})}),Ao(To(n),"updateWindowDimensions",function(){var e=.3*window.innerWidth,t=.7*window.innerWidth;n.setState({min_split_width:e,max_split_width:t})}),Ao(To(n),"send_heartbeat",function(){"hidden"!==document.visibilityState&&n.props.is_logged_in&&n.props.on_mission_heartbeat()}),Ao(To(n),"toggle_steps_open",function(){return n.setState({steps_open:!n.state.steps_open})}),Ao(To(n),"drag_start_handler",function(){n.setState({is_dragging:!0})}),Ao(To(n),"drag_end_handler",function(){n.setState({is_dragging:!1})}),Ao(To(n),"size_change_handler",function(e){var t="".concat(e/window.innerWidth*100,"%");n.setState({split_size:t,user_split_size:t})}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Co(e,t)}(t,a.a.PureComponent),function(e,t,n){t&&xo(e.prototype,t),n&&xo(e,n)}(t,[{key:"componentDidMount",value:function(){this.updateSplitSize(this.props.editor_type),this.updateWindowDimensions(),this.possibly_load_files(this.props),window.addEventListener("mousemove",this.send_heartbeat,{passive:!0}),window.addEventListener("keyup",this.send_heartbeat,{passive:!0}),window.addEventListener("wheel",this.send_heartbeat,{passive:!0}),window.addEventListener("resize",this.updateWindowDimensions,{passive:!0})}},{key:"componentWillReceiveProps",value:function(e){this.possibly_load_files(e,this.props),this.updateSplitSize(e.editor_type)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.send_heartbeat),window.removeEventListener("keyup",this.send_heartbeat),window.removeEventListener("wheel",this.send_heartbeat),window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"possibly_load_files",value:function(e,t){var n=e.mission_info,o=n.id,r=n.overall_type;o&&o!==p.a.get(t,"mission_info.id")&&"mission"===r&&e.get_mission_files(o)}},{key:"render",value:function(){var e=this.state.is_dragging?"not_interactive":"is_interactive";return a.a.createElement("div",{className:"TheMission__root"},a.a.createElement(jo.a,{className:"TheMission__split_pane",minSize:this.state.min_split_width,maxSize:this.state.max_split_width,defaultSize:"50%",size:this.state.split_size,split:"vertical",onChange:this.size_change_handler,onDragStarted:this.drag_start_handler,onDragFinished:this.drag_end_handler},a.a.createElement("div",{className:i()(e,Mo)},a.a.createElement(et,null)),a.a.createElement("div",{className:i()(e,Mo)},a.a.createElement(tt.a,null))),this.state.steps_open&&a.a.createElement(St,{onClose:this.toggle_steps_open}),a.a.createElement(At,{onOpenSteps:this.toggle_steps_open}),!this.props.dont_show_end&&a.a.createElement(So,null))}}]),t}();Ro.displayName="TheMission";t.default=Object(c.b)(Lo,qo)(Ro)}}]);
//# sourceMappingURL=TheMission.7c9223c5f27a15c4257a.js.map