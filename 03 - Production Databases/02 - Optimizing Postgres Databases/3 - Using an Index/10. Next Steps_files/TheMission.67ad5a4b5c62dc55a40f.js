(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1115:function(e,t,n){"use strict";var r=n(12),o=n.n(r),i=n(0),s=n.n(i),a=n(1),c=n.n(a),l=n(7),p=n(3),u=n(2),_=n.n(u),f=n(11),d=n(22),h=n(199),m=n(40),y=(n(1427),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),y(t,[{key:"render",value:function(){return s.a.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"MissionTakeawaysFooter__root",id:this.props.id},s.a.createElement("a",{href:"https://dataquest.io",target:"_blank",className:"MissionTakeawaysFooter__link"},s.a.createElement("div",{className:"MissionTakeawaysFooter__logo"}),s.a.createElement("div",{className:"MissionTakeawaysFooter__text"},this.props.text)))}}]),t}();b.propTypes={text:c.a.string.isRequired,className:c.a.string,id:c.a.string},b.defaultProps={text:"Powered By Dataquest"},b.displayName="MissionTakeawaysFooter";var v=b,g=(n(1425),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),w={"./MissionTakeaways.scss":{content:"MissionTakeaways__content",paper:"MissionTakeaways__paper",force_paper:"MissionTakeaways__force_paper",button:"MissionTakeaways__button",takeaways:"MissionTakeaways__takeaways",title:"MissionTakeaways__title",copyright:"MissionTakeaways__copyright",share:"MissionTakeaways__share",text:"MissionTakeaways__text",footer:"MissionTakeaways__footer"}};function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=Object(p.createStructuredSelector)({}),E=800,M=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=k(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={force_paper:!1,pdf_maker_loaded:!1},r.handler_pdf_request=function(){r.props.on_paper?r.make_pdf_document():r.setState({force_paper:!0})},r.make_pdf_document=function(){var e=document.getElementById("pdf_takeaways"),t=0,n=null,o=_.a.flatMap(e.children,function(e){var t=[e],n=_.a.flatMap(e.children,function(e){var n=[e];return _.a.forEach(e.children,function(e){return t.push(e)}),n});return _.a.forEach(n,function(e){return t.push(e)}),t});_.a.forEach(o,function(e){e.offsetTop-t>E&&(n.className+=" html2pdf__page-break",t=n.offsetTop+t),n=e}),r.html2pdf(e,{filename:"mission-"+r.props.sequence+"-"+r.props.slug+"-takeaways.pdf",margin:1,html2canvas:{dpi:300,letterRendering:!0},jsPDF:{unit:"in"}})},k(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),g(t,[{key:"componentDidMount",value:function(){var e=this;this._setState=this.setState,n.e(23).then(n.t.bind(null,1509,7)).then(function(t){null!=e._setState&&(e.html2pdf=t.default,e._setState({pdf_maker_loaded:!0}))})}},{key:"componentDidUpdate",value:function(e,t){this.state.force_paper&&(this.make_pdf_document(),this.setState({force_paper:!1}))}},{key:"componentWillUnmount",value:function(){this._setState=null}},{key:"render_pdf",value:function(){var e="https://"+window.location.host+Object(m.a)(this.props),t="by Dataquest Labs, Inc. - All rights reserved Â© "+(new Date).getFullYear();return s.a.createElement("div",{id:"pdf_takeaways",className:"MissionTakeaways__takeaways"},s.a.createElement("div",{className:"MissionTakeaways__title"},s.a.createElement("h1",null,this.props.title,": Takeaways"),s.a.createElement("a",{href:e,className:"MissionTakeaways__share"},s.a.createElement(d.a,{name:"share"}))),s.a.createElement("div",{className:"MissionTakeaways__copyright"},t),s.a.createElement(h.a,{className:"MissionTakeaways__text",body:this.props.text}),s.a.createElement(v,{className:"MissionTakeaways__footer",text:"Takeaways "+t}))}},{key:"render",value:function(){var e=this.props.on_paper?"paper":"content";return this.state.force_paper&&(e="force_paper"),s.a.createElement("div",{className:(this.props.className?this.props.className+" ":"")+o()(e,w)},s.a.createElement(f.a,{color:"gray_to_green",hollow:!0,short:!0,icon_on_left:!0,icon:"download",text:"Download as PDF",title:this.state.pdf_maker_loaded?"":"loading pdf maker...",className:"MissionTakeaways__button",disabled:!this.state.pdf_maker_loaded,onClick:this.handler_pdf_request}),this.render_pdf())}}]),t}();M.propTypes={className:c.a.string,on_paper:c.a.bool,title:c.a.string.isRequired,sequence:c.a.string.isRequired,slug:c.a.string.isRequired,text:c.a.string.isRequired},M.defaultProps={},M.displayName="MissionTakeaways";t.a=Object(l.b)(O,{})(M)},1168:function(e,t,n){"use strict";var r=n(12),o=n.n(r),i=n(0),s=n.n(i),a=n(1),c=n.n(a),l=(n(1421),n(22)),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_={"./SidePanelTitle.scss":{icon:"SidePanelTitle__icon",light:"SidePanelTitle__light",dark:"SidePanelTitle__dark"}};var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.a.PureComponent),u(t,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,r=e.className,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["icon","title","className"]);return s.a.createElement("div",p({},i,{className:(r?r+" ":"")+o()(this.props.theme,_)}),t&&s.a.createElement(l.a,{name:t,className:"SidePanelTitle__icon"}),n)}}]),t}();f.propTypes={title:c.a.string.isRequired,icon:c.a.string,className:c.a.string,theme:c.a.string},f.defaultProps={theme:"light"},f.displayName="SidePanelTitle",t.a=f},1400:function(e,t,n){e.exports={root:"PanelPopup__root",body:"PanelPopup__body"}},1401:function(e,t,n){e.exports=n.p+"assets/premiumd505e488b48bd25230aa023f8ffdc939.svg"},1403:function(e,t,n){e.exports={root:"CompletionIcon__root"}},1405:function(e,t,n){e.exports={root:"MissionComplete__root",side:"MissionComplete__side",side_marketing:"MissionComplete__side_marketing",progress_block:"MissionComplete__progress_block",loading:"MissionComplete__loading",image:"MissionComplete__image",icon:"MissionComplete__icon",link:"MissionComplete__link"}},1407:function(e,t,n){e.exports={root:"PanelIndicator__root",active:"PanelIndicator__active",inactive:"PanelIndicator__inactive"}},1409:function(e,t,n){e.exports={root:"MissionEnd__root",panel:"MissionEnd__panel",footer:"MissionEnd__footer",footer_back:"MissionEnd__footer_back",footer_forward:"MissionEnd__footer_forward"}},1411:function(e,t,n){e.exports={root:"MissionFooter__root",right_side:"MissionFooter__right_side",title_side:"MissionFooter__title_side",more:"MissionFooter__more",title:"MissionFooter__title",center:"MissionFooter__center",nav_button:"MissionFooter__nav_button"}},1413:function(e,t,n){e.exports={current:"MissionStepItem__current",root:"MissionStepItem__root",done:"MissionStepItem__done",number:"MissionStepItem__number"}},1415:function(e,t,n){e.exports={side:"MissionSteps__side",root:"MissionSteps__root",shield:"MissionSteps__shield",header:"MissionSteps__header",back:"MissionSteps__back",back_text:"MissionSteps__back_text",back_icon:"MissionSteps__back_icon",icon:"MissionSteps__icon",lesson:"MissionSteps__lesson",steps:"MissionSteps__steps"}},1417:function(e,t,n){e.exports={close:"DqDropMenu__close",open:"DqDropMenu__open",top:"DqDropMenu__top",options:"DqDropMenu__options",icon:"DqDropMenu__icon",text:"DqDropMenu__text",option:"DqDropMenu__option"}},1419:function(e,t,n){e.exports={side_help_panel:"MissionAnswer__side_help_panel"}},1421:function(e,t,n){e.exports={dark:"SidePanelTitle__dark",light:"SidePanelTitle__light",icon:"SidePanelTitle__icon"}},1423:function(e,t,n){e.exports={root:"ScrollAccordion__root",bottom_headers:"ScrollAccordion__bottom_headers",top_headers:"ScrollAccordion__top_headers",body:"ScrollAccordion__body",in_header:"ScrollAccordion__in_header",in_text:"ScrollAccordion__in_text",section:"ScrollAccordion__section"}},1425:function(e,t,n){e.exports={takeaways:"MissionTakeaways__takeaways",copyright:"MissionTakeaways__copyright",content:"MissionTakeaways__content",force_paper:"MissionTakeaways__force_paper",paper:"MissionTakeaways__paper",button:"MissionTakeaways__button",title:"MissionTakeaways__title",share:"MissionTakeaways__share",text:"MissionTakeaways__text",footer:"MissionTakeaways__footer"}},1427:function(e,t,n){e.exports={text:"MissionTakeawaysFooter__text",root:"MissionTakeawaysFooter__root",link:"MissionTakeawaysFooter__link",logo:"MissionTakeawaysFooter__logo"}},1429:function(e,t,n){e.exports={instructions:"MissionLearn__instructions",section:"MissionLearn__section",solution:"MissionLearn__solution",takeaways:"MissionLearn__takeaways",light:"MissionLearn__light",dark:"MissionLearn__dark"}},1431:function(e,t,n){e.exports={dark:"MissionInformation__dark",light:"MissionInformation__light",body:"MissionInformation__body"}},1433:function(e,t,n){e.exports={root:"TheMission__root",split_pane:"TheMission__split_pane",not_interactive:"TheMission__not_interactive",is_interactive:"TheMission__is_interactive"}},1508:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"get_end_info",function(){return Jt});var o=n(12),i=n.n(o),s=n(0),a=n.n(s),c=n(1),l=n.n(c),p=n(7),u=n(3),_=n(2),f=n.n(_),d=(n(1433),n(1431),n(1429),n(199)),h=n(1115),m=(n(1423),n(216)),y=n(125),b=n(1168),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w={"./ScrollAccordion.scss":{root:"ScrollAccordion__root",top_headers:"ScrollAccordion__top_headers",bottom_headers:"ScrollAccordion__bottom_headers",body:"ScrollAccordion__body",in_header:"ScrollAccordion__in_header",in_text:"ScrollAccordion__in_text",section:"ScrollAccordion__section"}};function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=1,j=function(e){function t(){var e,n,r;k(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._clicked=function(){r.props.onSelected(r.props.title)},O(r,n)}return E(t,a.a.PureComponent),g(t,[{key:"render",value:function(){return a.a.createElement(b.a,{onClick:this._clicked,id:this.props.id,title:this.props.title,icon:this.props.icon,theme:this.props.theme,className:i()(this.props.in_text?"in_text":"in_header",w)})}}]),t}();j.propTypes={title:l.a.string.isRequired,onSelected:l.a.func.isRequired,icon:l.a.string,in_text:l.a.bool,id:l.a.string,theme:l.a.string},j.displayName="SectionTitle";var x=function(e){function t(){var e,n,r;k(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=O(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={headers:{}},r.openSection=function(e){if(null!=r._sections[e]){var t=r._sections[e],n=t.ref.offsetTop,o=t.order,i=(r._sections[e].ref.firstChild.clientHeight+M+M)*o;clearTimeout(r._animate_id),r._animate_id=Object(m.a)(r._scrollarea,n-i+4)}},r.am_scrolling=function(){if(null!=r._scrollarea){var e=r._scrollarea,t=e.offsetHeight,n=e.scrollTop,o=e.clientWidth;r._top_headers.style.width=o+"px",r._bottom_headers.style.width=o+"px";var i=!1,s=f.a.mapValues(r._sections,function(e,o){var s=e.ref;return s.offsetTop<n+r._top_headers.clientHeight?(i=i||"above"!==r.state.headers[o],s.firstChild.style.opacity=0,"above"):s.offsetTop+s.firstChild.clientHeight>n+t-r._bottom_headers.clientHeight?(i=i||"below"!==r.state.headers[o],s.firstChild.style.opacity=0,"below"):(i=i||"shown"!==r.state.headers[o],s.firstChild.style.opacity=1,"shown")});i&&r.setState({headers:s})}},r.render_a_header=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=t.props.title;return r.state.headers[n]!==(e?"above":"below")?null:a.a.createElement(j,v({},t.props,{key:n,onSelected:r.openSection,id:t.props.id}))}},r._ref_for_child=function(e,t){return function(n){null===n?delete r._sections[t]:r._sections[t]={ref:n,order:e}}},r.render_child=function(e,t){var n=v({},e.props);return"shown"!==r.state.headers[e.props.title]&&delete n.id,a.a.createElement("div",{key:e.props.title,className:"ScrollAccordion__section",ref:r._ref_for_child(t,e.props.title)},a.a.createElement(j,v({},n,{in_text:!0,onSelected:r.openSection})),a.a.createElement(y.a,{onResize:r.am_scrolling}),e.props.children)},r.set_scrollarea_ref=function(e){r._scrollarea=e},O(r,n)}return E(t,a.a.PureComponent),g(t,[{key:"componentWillMount",value:function(){this._sections={}}},{key:"componentDidMount",value:function(){this._scrollarea.addEventListener("scroll",this.am_scrolling,{passive:!0}),this.am_scrolling()}},{key:"componentWillReceiveProps",value:function(e){e.id!==this.props.id&&(this._scrollarea.scrollTop=0,this.am_scrolling())}},{key:"componentDidUpdate",value:function(){this.am_scrolling()}},{key:"componentWillUnmount",value:function(){this._scrollarea.removeEventListener("scroll",this.am_scrolling),this._scrollarea=null}},{key:"render",value:function(){var e=this,t=s.Children.toArray(this.props.children).filter(function(e){return e.type===S});return a.a.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"ScrollAccordion__root"},a.a.createElement("div",{className:"ScrollAccordion__top_headers",ref:function(t){e._top_headers=t}},t.map(this.render_a_header())),a.a.createElement("div",{className:"ScrollAccordion__body",ref:this.set_scrollarea_ref},t.map(this.render_child)),a.a.createElement("div",{className:"ScrollAccordion__bottom_headers",ref:function(t){e._bottom_headers=t}},t.map(this.render_a_header(!1))))}}]),t}();x.propTypes={id:l.a.string.isRequired,children:l.a.node.isRequired,className:l.a.string},x.defaultProps={},x.displayName="ScrollAccordion";var S=function(e){function t(){return k(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return E(t,a.a.PureComponent),t}();S.propTypes={id:l.a.string,title:l.a.string.isRequired,children:l.a.node.isRequired},x.Section=S;var P=x,q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),q(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.missionMarkup,r=e.className,o=n.processCleanupHTML(t);return o=n.processLinks(o),o=n.processWithMarkDeep(o),o=n.processWithKaTex(o),a.a.createElement("div",{className:r,dangerouslySetInnerHTML:{__html:o}})}}]),t}();T.propTypes={text:l.a.string.isRequired,className:l.a.string.isRequired,missionMarkup:l.a.any},T.displayName="MissionHelp";var N=T,R=(n(1419),n(67)),C=n(14),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var A=f.a.pick(C.c,["tries_before_answer","run_count","current_step_info","current_step_output"]),I=Object(u.createStructuredSelector)(A),L=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),D(t,[{key:"render",value:function(){var e=this.props,t=e.run_count,n=e.tries_before_answer,r=e.className;if(n<=t||this.props.current_step_output.success)return a.a.createElement(R.a,{className:r,value:this.props.current_step_info.answer,mode:this.props.current_step_info.editor_language,readOnly:!0,onDark:"dark"===this.props.theme});var o=n-t,i=1===o?"time":"times";return a.a.createElement("div",{className:r},"You'll need to run code ",o," more ",i," before you can see the answer.")}}]),t}();L.propTypes={tries_before_answer:l.a.number.isRequired,run_count:l.a.number.isRequired,current_step_output:l.a.shape({success:l.a.bool.isRequired}).isRequired,current_step_info:l.a.shape({answer:l.a.string.isRequired,editor_language:l.a.string.isRequired}).isRequired,className:l.a.string,theme:l.a.string},L.defaultProps={theme:"dark"},L.displayName="MissionAnswer";var F=Object(p.b)(I,{})(L),W=(n(1417),n(22)),z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),U={"./DqDropMenu.scss":{open:"DqDropMenu__open",top:"DqDropMenu__top",close:"DqDropMenu__close",options:"DqDropMenu__options",icon:"DqDropMenu__icon",text:"DqDropMenu__text",option:"DqDropMenu__option"}};function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Y=1e3,G=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=B(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={open:!1},r.toggle_state=function(){r.state.open?r.close_state():r.open_state()},r.open_state=function(){r.props.open_close_listener("open"),r.setState({open:!0})},r.close_state=function(){r.props.open_close_listener("close"),r.setState({open:!1})},r.toggle_off=function(){window.clearTimeout(r._timer),r._timer=window.setTimeout(r.close_state,Y)},r.toggle_on=function(){window.clearTimeout(r._timer),r._timer=window.setTimeout(r.open_state,Y)},B(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),H(t,[{key:"componentWillUnmount",value:function(){window.clearTimeout(this._timer)}},{key:"render_menu_options",value:function(e){return a.a.createElement("div",{className:"DqDropMenu__options",onClick:this.close_state},e.map(function(e){return a.a.createElement("div",{key:e.text,onClick:e.onClick,className:"DqDropMenu__option",title:e.title,"data-test-selector":e.testSelector},e.text)}))}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.options,r=(e.open_close_listener,e.test_selector),o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["title","options","open_close_listener","test_selector"]);return a.a.createElement("div",z({onMouseLeave:this.toggle_off,onMouseEnter:this.toggle_on},o,{className:i()(this.state.open?"open":"close",U)}),a.a.createElement("div",{className:"DqDropMenu__top",onClick:this.toggle_state,"data-test-selector":r},a.a.createElement("div",{className:"DqDropMenu__text"},t),a.a.createElement("div",{className:"DqDropMenu__icon"},a.a.createElement(W.a,{name:"down"}))),this.render_menu_options(n))}}]),t}();G.propTypes={title:l.a.string.isRequired,options:l.a.arrayOf(l.a.shape({text:l.a.string.isRequired,onClick:l.a.func.isRequired,title:l.a.string})),open_close_listener:l.a.func.isRequired,test_selector:l.a.string},G.defaultProps={open_close_listener:function(){}},G.displayName="DqDropMenu";var J=G,K=n(116),Q=n(203),V=n(21),X=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$={"./MissionLearn.scss":{section:"MissionLearn__section",instructions:"MissionLearn__instructions",solution:"MissionLearn__solution",takeaways:"MissionLearn__takeaways",light:"MissionLearn__light",dark:"MissionLearn__dark"}};function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var te=Z({},f.a.pick(C.c,["current_step_index","current_step_info","show_help","show_answer"]),{mission_info:V.d.mission_info}),ne=function(e){var t=e.type,n=e.include_payload,r=void 0!==n&&n;return function(e){return r?{type:t,payload:e}:{type:t}}},re=Z({},C.b,{open_for_mission:Q.a.open_for_mission,get_help_listener:ne({type:"MissionLearn/get_help",include_payload:!0}),intercom_listener:ne({type:"MissionLearn/intercom",include_payload:!0})}),oe=Object(u.createStructuredSelector)(te),ie="The Answer",se=100,ae=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=ee(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={get_help_options:[]},r.hot_keys={"alt+a":{priority:1,handler:function(){return r.show_the_answer()}}},r.show_the_answer=function(){return 0!==r.props.current_step_info.answer.length&&(r.props.set_show_answer(!0),setTimeout(function(){return r._accordion&&r._accordion.openSection(ie)},se),!1)},ee(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),X(t,[{key:"componentWillMount",value:function(){this.make_help_options(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.make_help_options(e)}},{key:"make_help_options",value:function(e){var t=this,n={mission_sequence:e.mission_info.sequence,mission_title:e.mission_info.title,screen_sequence:e.current_step_info.sequence,screen_title:e.current_step_info.title,screen_id:e.current_step_info.id},r=[];e.current_step_info.help.length>0&&r.push({text:"Get a hint",testSelector:"mission-help-get-hint",onClick:function(){window.analytics.track("mission_get_help",Object.assign({help_type:"hint"},n)),e.set_show_help(!0),setTimeout(function(){return t._accordion&&t._accordion.openSection("Hint")},se)}}),e.current_step_info.answer.length>0&&r.push({text:"See the answer",title:"["+Object(K.hotkey_display)("alt+a")+"] to See the answer",testSelector:"mission-help-show-answer",onClick:function(){window.analytics.track("mission_get_help",Object.assign({help_type:"answer"},n)),t.show_the_answer()}}),r.push({text:"Message Us",onClick:function(){window.analytics.track("mission_get_help",Object.assign({help_type:"message"},n)),e.intercom_listener("show"),e.open_for_mission()}}),this.setState({get_help_options:r})}},{key:"render_learn",value:function(e){return 0===e.body.length?null:a.a.createElement(P.Section,{title:"Learn",id:"onboarding-tip-learn",theme:this.props.theme},a.a.createElement(d.a,{body:e.body,processPreCode:!0,className:"MissionLearn__section",theme:this.props.theme}))}},{key:"render_instructions",value:function(e){return"text"===e.type||0===e.instructions.length?null:a.a.createElement(P.Section,{title:"instructions",id:"onboarding-tip-instructions",theme:this.props.theme},a.a.createElement(d.a,{className:"MissionLearn__instructions",body:e.instructions,theme:this.props.theme}),this.render_help_menu())}},{key:"render_help_menu",value:function(){return 0===this.state.get_help_options.length?null:a.a.createElement("div",{className:"MissionLearn__section"},a.a.createElement(J,{title:"Get Help",options:this.state.get_help_options,open_close_listener:this.props.get_help_listener,theme:this.props.theme,test_selector:"GetHelpMenu"}))}},{key:"render_help",value:function(){return this.props.show_help?a.a.createElement(P.Section,{title:"Hint",theme:this.props.theme},a.a.createElement(N,{className:"MissionLearn__section",text:this.props.current_step_info.help,missionMarkup:d.a})):null}},{key:"render_answer",value:function(){return this.props.show_answer?a.a.createElement(P.Section,{title:ie,theme:this.props.theme},a.a.createElement(F,{className:"MissionLearn__solution",theme:this.props.theme})):null}},{key:"render",value:function(){var e=this,t=this.props.current_step_info;return"takeaways"===this.props.current_step_info.type?a.a.createElement("div",{className:"MissionLearn__takeaways"},a.a.createElement(h.a,{on_paper:!0,title:this.props.mission_info.title,sequence:this.props.mission_info.sequence,slug:this.props.mission_info.slug,text:this.props.current_step_info.body})):a.a.createElement(P,{id:t.sequence,ref:function(t){e._accordion=t},className:i()(this.props.theme,$)},this.render_learn(t),this.render_instructions(t),this.render_help(),this.render_answer())}}]),t}();ae.propTypes={onOpenDiscuss:l.a.func.isRequired,current_step_index:l.a.number.isRequired,current_step_info:l.a.shape({sequence:l.a.string.isRequired,title:l.a.string.isRequired,body:l.a.string.isRequired,help:l.a.string.isRequired,instructions:l.a.string.isRequired,type:l.a.string.isRequired,answer:l.a.string.isRequired,id:l.a.string.isRequired}).isRequired,show_help:l.a.bool.isRequired,show_answer:l.a.bool.isRequired,set_show_help:l.a.func.isRequired,set_show_answer:l.a.func.isRequired,mission_info:l.a.shape({title:l.a.string.isRequired,sequence:l.a.string.isRequired,slug:l.a.string.isRequired}).isRequired,get_help_listener:l.a.func.isRequired,intercom_listener:l.a.func.isRequired,open_for_mission:l.a.func.isRequired,theme:l.a.string},ae.defaultProps={theme:"light"},ae.displayName="MissionLearn";var ce=Object(p.b)(oe,re)(Object(K.hotkeys)(ae)),le=n(36),pe=n(37),ue=n.n(pe),_e={loader:function(){return Promise.all([n.e(24),n.e(28)]).then(n.bind(null,1506))},loading:function(e){return a.a.createElement(le.a,e)}},fe=ue()(_e),de=ue()({loader:function(){return n.e(27).then(n.bind(null,1503))},loading:function(e){return a.a.createElement(le.a,e)}}),he=n(151),me=n(69),ye=n(4),be=n(24),ve=n(60),ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),we={"./MissionInformation.scss":{light:"MissionInformation__light",dark:"MissionInformation__dark",body:"MissionInformation__body"}};function ke(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Oe={is_moderator:ye.b.is_moderator,current_step_index:C.c.current_step_index,active_tab:V.d.active_tab,theme:ve.b.text_theme},Ee={fetch_directory:be.a.fetch_directory,open_tab:V.b.open_tab},Me=Object(u.createStructuredSelector)(Oe),je=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=ke(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={tabs:[]},r.on_tab_select=function(e){return r.props.open_tab({select:e})},r.help_open_discuss=function(){return r.props.open_tab({select:"FAQ",source:"get help"})},ke(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),ge(t,[{key:"componentWillMount",value:function(){var e=[{text:"Learn",icon:"book"},{text:"Mission Reference",icon:"search"}];this.props.is_moderator&&e.push({text:"Admin"}),this.setState({tabs:e}),this.props.fetch_directory(),fe.preload()}},{key:"componentWillReceiveProps",value:function(e){e.current_step_index!==this.props.current_step_index&&"Learn"!==this.props.active_tab&&this.props.open_tab({select:"Learn"})}},{key:"render_body",value:function(){switch(this.props.active_tab){case"Mission Reference":return a.a.createElement(fe,{theme:this.props.theme});case"Admin":return a.a.createElement(de,null);default:return a.a.createElement(ce,{onOpenDiscuss:this.help_open_discuss,theme:this.props.theme})}}},{key:"render",value:function(){var e=this;return a.a.createElement(me.a,{part_name:"info",className:i()(this.props.theme,we)},a.a.createElement(he.a,null,this.state.tabs.map(function(t){return a.a.createElement(me.a,{key:t.text,part_name:t.text},a.a.createElement(he.a.Tab,{key:t.text,title:t.text,icon:t.icon,onSelect:e.on_tab_select,selected:e.props.active_tab===t.text}))})),a.a.createElement("div",{className:"MissionInformation__body"},this.render_body()))}}]),t}();je.propTypes={is_moderator:l.a.bool.isRequired,current_step_index:l.a.number.isRequired,fetch_directory:l.a.func.isRequired,theme:l.a.string,active_tab:l.a.string.isRequired,open_tab:l.a.func.isRequired},je.defaultProps={theme:"light"},je.displayName="MissionInformation";var xe=Object(p.b)(Me,Ee)(je),Se=n(218),Pe=(n(1415),n(54)),qe=(n(1413),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Te={"./MissionStepItem.scss":{root:"MissionStepItem__root",current:"MissionStepItem__current",number:"MissionStepItem__number",done:"MissionStepItem__done"}};function Ne(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Re=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=Ne(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._click=function(){return r.props.onSelected(r.props.index)},Ne(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),qe(t,[{key:"render",value:function(){return a.a.createElement("div",{onClick:this._click,id:"step-"+this.props.index,className:i()(this.props.current?"current":"root",Te)},this.props.completed?a.a.createElement(W.a,{name:"pass",className:"MissionStepItem__done"}):a.a.createElement("span",{className:"MissionStepItem__number"},this.props.index+1,"."),this.props.title)}}]),t}();Re.propTypes={current:l.a.bool.isRequired,completed:l.a.bool.isRequired,title:l.a.string.isRequired,index:l.a.number.isRequired,onSelected:l.a.func.isRequired},Re.displayName="MissionStepItem";var Ce=Re,De=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Ie(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Le=Ae({},f.a.pick(C.c,["current_step_index","step_list"]),{mission_info:V.d.mission_info}),Fe=C.b,We=Object(u.createStructuredSelector)(Le),ze=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=Ie(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._directly_to_step=function(e){r.props.directly_to_step(e),r.props.onClose()},r.renderStep=function(e,t){return a.a.createElement(Ce,Ae({key:t+" "+e.title},e,{current:t===r.props.current_step_index,index:t,onSelected:r._directly_to_step}))},Ie(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),De(t,[{key:"render",value:function(){var e=Math.max(this.props.current_step_index-2,0);return a.a.createElement("div",{className:"MissionSteps__root"},a.a.createElement("div",{className:"MissionSteps__shield",onClick:this.props.onClose}),a.a.createElement("div",{className:"MissionSteps__side"},a.a.createElement("div",{className:"MissionSteps__header"},a.a.createElement("div",{className:"MissionSteps__back",onClick:this.props.onClose},a.a.createElement("div",{className:"MissionSteps__back_icon"},a.a.createElement(W.a,{name:"left",className:"MissionSteps__icon"})),a.a.createElement("div",{className:"MissionSteps__back_text"},"Close")),a.a.createElement("h2",null,this.props.mission_info.title),a.a.createElement("div",null,this.props.mission_info.description)),a.a.createElement("div",{className:"MissionSteps__lesson"},"Steps"),a.a.createElement(m.b,{className:"MissionSteps__steps",scroll_to_id:"step-"+e},this.props.step_list.map(this.renderStep),a.a.createElement(Pe.a,{color:"danger",text:"reset progress",new_style:!0,hollow:!0,borderless:!0,confirmTitle:"Reset mission progress?",confirmText:'You will lose all of your progress on the "'+this.props.mission_info.title+'" mission!',confirmButtonText:"Reset",dangerMode:!0,onClick:this.props.reset_all_progress}))))}}]),t}();ze.propTypes={current_step_index:l.a.number.isRequired,step_list:l.a.arrayOf(l.a.shape({title:l.a.string.isRequired,completed:l.a.bool.isRequired})),mission_info:l.a.shape({title:l.a.string.isRequired,description:l.a.string.isRequired}).isRequired,reset_all_progress:l.a.func.isRequired,directly_to_step:l.a.func.isRequired,onClose:l.a.func.isRequired},ze.displayName="MissionSteps";var He=Object(p.b)(We,Fe)(ze),Ue=(n(1411),n(11)),Be=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Ye(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Ge={current_step_index:C.c.current_step_index,step_list:C.c.step_list},Je=C.b,Ke=Object(u.createStructuredSelector)(Ge),Qe=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=Ye(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.hot_keys={"alt+n":{priority:1,handler:function(){return r.props.next_step(),!1}},"alt+b":{priority:1,handler:function(){return r.props.back_step(),!1}}},Ye(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),Be(t,[{key:"render_next",value:function(){var e=this.props,t=e.current_step_index,n=e.step_list,r="Next",o="["+Object(K.hotkey_display)("alt+n")+"] Next Screen";return n.length-1===t&&(r="Finish",o="["+Object(K.hotkey_display)("alt+n")+"] Goto Mission End"),a.a.createElement(Ue.a,{short:!0,onDark:!0,hollow:!0,color:"white",className:"MissionFooter__nav_button",text:r,title:o,onClick:this.props.next_step})}},{key:"render",value:function(){var e=this.props,t=e.current_step_index,n=e.step_list;if(0===n.length)return a.a.createElement("div",{className:"MissionFooter__root"});var r=n[t].title;return a.a.createElement(me.a,{className:"MissionFooter__root",part_name:"footer"},a.a.createElement("div",{className:"MissionFooter__title_side",onClick:this.props.onOpenSteps},a.a.createElement(W.a,{name:"bars",className:"MissionFooter__more"}),a.a.createElement("div",{className:"MissionFooter__title"},t+1,". ",r)),a.a.createElement("div",{className:"MissionFooter__center"},a.a.createElement(Ue.a,{text:"back",short:!0,onDark:!0,color:"white",hollow:!0,className:"MissionFooter__nav_button",title:"["+Object(K.hotkey_display)("alt+b")+"] Back a Screen",disabled:0===t,onClick:this.props.back_step}),a.a.createElement("div",null,t+1," / ",n.length),this.render_next()),a.a.createElement("div",{className:"MissionFooter__right_side"}))}}]),t}();Qe.propTypes={onOpenSteps:l.a.func.isRequired,current_step_index:l.a.number.isRequired,step_list:l.a.arrayOf(l.a.shape({title:l.a.string.isRequired})).isRequired,next_step:l.a.func.isRequired,back_step:l.a.func.isRequired},Qe.displayName="MissionFooter";var Ve=Object(p.b)(Ke,Je)(Object(K.hotkeys)(Qe)),Xe=(n(1409),n(1407),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Ze={"./PanelIndicator.scss":{root:"PanelIndicator__root",inactive:"PanelIndicator__inactive",active:"PanelIndicator__active"}};function $e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function et(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function tt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var nt=function(e){function t(){var e,n,r;$e(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=et(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r._onClick=function(){return r.props.onSelect(r.props.index)},et(r,n)}return tt(t,a.a.PureComponent),Xe(t,[{key:"render",value:function(){return a.a.createElement("div",{onClick:this._onClick,className:i()(this.props.active?"active":"inactive",Ze)})}}]),t}();nt.propTypes={index:l.a.number.isRequired,active:l.a.bool.isRequired,onSelect:l.a.func.isRequired},nt.displayName="Indicator";var rt=function(e){function t(){return $e(this,t),et(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return tt(t,a.a.PureComponent),Xe(t,[{key:"render",value:function(){var e=this;return this.props.count<=1?a.a.createElement("div",{className:"PanelIndicator__root"}):a.a.createElement("div",{className:"PanelIndicator__root"},f.a.times(this.props.count,function(t){return a.a.createElement(nt,{index:t,key:t,onSelect:e.props.onSelect,active:t===e.props.active_index})}))}}]),t}();rt.propTypes={count:l.a.number.isRequired,active_index:l.a.number.isRequired,onSelect:l.a.func.isRequired},rt.displayName="PanelIndicator";var ot=rt,it=(n(1405),n(81)),st=n(246),at=(n(1403),n(244)),ct=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var lt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),ct(t,[{key:"render",value:function(){var e={backgroundImage:'url("'+this.props.icon_name+'")',position:"relative"};return this.props.course_icon&&(e.backgroundSize="60% 60%"),a.a.createElement("div",{style:e,className:(this.props.className?this.props.className+" ":"")+"CompletionIcon__root"},a.a.createElement(at.a,{options:this.props.options,percentage:this.props.progress,color:this.props.light?"gray":"white"}))}}]),t}();lt.propTypes={icon_name:l.a.string.isRequired,progress:l.a.number.isRequired,className:l.a.string,light:l.a.bool,course_icon:l.a.bool,options:l.a.object},lt.displayName="CompletionIcon";var pt=lt,ut=n(288),_t=n(17),ft=n(221),dt=n(44),ht=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var mt=[{text:"Unlock hundreds of hours of data science and engineering content"},{text:"Get help from our experts during office hours"},{text:"Connect and collaborate with your fellow learners"},{text:"Work on guided projects to build your portfolio"}],yt={cutoutPercentage:86,animation:{duration:1e3}},bt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),ht(t,[{key:"render_right_side",value:function(){return this.props.on_free_plan?a.a.createElement(_t.a,{centered:!0,className:"MissionComplete__side_marketing"},a.a.createElement("h2",null,"Want to learn more?",a.a.createElement("br",null),"Go further with Dataquest Premium!"),a.a.createElement("img",{className:"MissionComplete__image",src:n(1401)}),a.a.createElement(st.a,{features:mt}),a.a.createElement("div",{className:"spacer"}),a.a.createElement(ft.a,{text:"Learn More",className:"MissionComplete__link",onClick:function(){window.location.replace("https://www.dataquest.io/subscribe/")}}),a.a.createElement("div",{className:"spacer"})):null}},{key:"render_progress",value:function(){var e=this.props.course;return 0===e.progress?a.a.createElement("div",{className:"MissionComplete__progress_block"},a.a.createElement(dt.a,{message:"Updating your progress",className:"MissionComplete__loading"})):a.a.createElement("div",{className:"MissionComplete__progress_block"},a.a.createElement("p",null,"You are ",a.a.createElement("b",null,Object(it.a)(e.progress))," through the ",a.a.createElement("br",null),e.title," course"),a.a.createElement("div",{className:"spacer"}),a.a.createElement(pt,{light:!0,course_icon:!0,className:"MissionComplete__icon",progress:e.progress,icon_name:Object(ut.a)(e.slug),options:yt}),a.a.createElement("div",{className:"spacer"}))}},{key:"render",value:function(){return a.a.createElement("div",{className:"MissionComplete__root"},a.a.createElement(_t.a,{light:!0,centered:!0,className:"MissionComplete__side"},a.a.createElement("h1",null,a.a.createElement("b",null,"Congratulations!")),a.a.createElement("h2",{style:{marginTop:0}},a.a.createElement("b",null,"You've finished the mission")),this.render_progress()),this.render_right_side())}}]),t}();bt.propTypes={on_free_plan:l.a.bool.isRequired,course:l.a.shape({title:l.a.string.isRequired,slug:l.a.string.isRequired,progress:l.a.number.isRequired}).isRequired},bt.displayName="MissionComplete";var vt=bt,gt=n(18),wt=n(68),kt=n(40),Ot=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Et(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Mt={is_subscribed:ye.b.is_subscribed,mission_next:V.d.mission_next,user_id:ye.b.user_id,mission_info:V.d.mission_info},jt={push_route:gt.c},xt=Object(u.createStructuredSelector)(Mt),St=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=Et(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.skip_plus=function(){return r.props.is_subscribed&&"plus"===r.props.mission_next.upgrade_suggestion},r.gotoNext=function(){var e=r.props,t=e.mission_next,n=e.push_route;return t.allowed?(n(Object(kt.a)(t)),Promise.resolve()):r.skip_plus()?(n(Object(kt.a)(t.alternate)),Promise.resolve()):r.props.dq_alert({title:"We're going to need to skip ahead",type:"warning",text:r.get_alert_text(),cancelButtonText:"Preview Mission",confirmButtonText:"Skip Ahead",allowOutsideClick:!1,allowEscapeKey:!1}).then(function(){r.send_paywall_event("Skip Ahead"),n(Object(kt.a)(t.alternate))}).catch(function(){r.send_paywall_event("Preview Mission"),n(Object(kt.a)(t))})},r.send_paywall_event=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t={user_id:r.props.user_id,mission_id:r.props.mission_info.id,element:e};window.analytics.track("next-mission-paywall",t)},Et(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),Ot(t,[{key:"get_html_link",value:function(e){return'<a href="'+Object(kt.a)(e)+'">'+e.title+"</a>"}},{key:"get_alert_text",value:function(){var e=this.props.mission_next;return"You need our "+e.upgrade_suggestion+' plan to access Mission: "'+e.title+'".\n\nOr you can skip ahead to Mission: "'+e.alternate.title+'" with your current plan.'}},{key:"render",value:function(){var e=this.skip_plus()?this.props.mission_next.alternate.title:this.props.mission_next.title;return a.a.createElement(Ue.a,{color:"green",text:"Next mission",title:"Next mission: "+e,icon:"right",onClick:this.gotoNext,"data-test-selector":"next-mission-btn"})}}]),t}();St.propTypes={is_subscribed:l.a.bool.isRequired,mission_next:l.a.shape({allowed:l.a.bool.isRequired,sequence:l.a.string.isRequired,title:l.a.string,upgrade_suggestion:l.a.string.isRequired,alternate:l.a.shape({title:l.a.string,sequence:l.a.string.isRequired}).isRequired}).isRequired,user_id:l.a.string.isRequired,mission_info:l.a.shape({id:l.a.string}).isRequired,push_route:l.a.func.isRequired,dq_alert:l.a.func.isRequired},St.defaultProps={dq_alert:wt.a},St.displayName="NextMissionButton";var Pt=Object(p.b)(xt,jt)(St),qt=(n(1400),n(62)),Tt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Nt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),Tt(t,[{key:"render",value:function(){return a.a.createElement(qt.a,{className:"PanelPopup__root"},a.a.createElement("div",{className:(this.props.className?this.props.className+" ":"")+"PanelPopup__body"},this.props.children))}}]),t}();Nt.propTypes={children:l.a.node,className:l.a.string},Nt.displayName="PanelPopup";var Rt=Nt,Ct=n(13),Dt=n.n(Ct),At=n(10),It={in_course:{title:"",slug:"",progress:0}},Lt=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e})({},Object(At.make_simple_selectors)(It,"mission_end_info")),Ft={reset:function(){return Dt()(It)}},Wt=Object(At.make_reducer_n_actions)({public_handlers:Ft,private_handlers:{set_info:function(e,t){var n=t.payload;return e.merge({in_course:n})}},action_types_prefix:"mission_end_info/",initial_state:It,Immutable:Dt.a}),zt=Wt.reducer,Ht=Wt.private_actions,Ut=Wt.actions,Bt=(Wt.ACTION_TYPES,zt),Yt=n(8),Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jt=function(e){return function(t,n){t(Ut.reset());var r="{\n    mission(sequence: "+e+") {\n      in_course {\n        title: name\n        slug\n      }\n    }\n  }";return Object(Yt.c)(r).then(function(e){var t=e.data.mission.in_course;return Object(Yt.c)(function(e){return'{\n    progress {\n      course(slug: "'+e+'") {\n        progress\n      }\n    }\n  }'}(t.slug)).then(function(e){var n=e.data;return Gt({},t,n.progress.course)})}).then(function(e){return t(Ht.set_info(e))}).catch(console.error)}},Kt=n(15),Qt=Object.assign({},Ut,r),Vt=(Object(Kt.a)({mission_end_info:Bt}),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),Xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function Zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $t(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function en(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var tn=Xt({},Lt,{mission_sequence:function(e){return V.d.mission_info(e).sequence},open_end_of_mission:C.c.open_end_of_mission,plan_name:ye.b.plan_name}),nn=Xt({},Qt,{back_step:C.b.back_step}),rn=Object(u.createStructuredSelector)(tn),on=function(e){function t(){var e,n,r;Zt(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=$t(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={active_panel_index:0,panels:[]},r._change_panel=function(e){r.setState({active_panel_index:e})},r._back=function(){0!==r.state.active_panel_index?r.setState({active_panel_index:r.state.active_panel_index-1}):r.props.back_step()},r._next=function(){r.setState({active_panel_index:r.state.active_panel_index+1})},$t(r,n)}return en(t,a.a.PureComponent),Vt(t,[{key:"componentWillMount",value:function(){this.setup_panels(),this.props.get_end_info(this.props.mission_sequence)}},{key:"componentWillReceiveProps",value:function(e){this.setup_panels(e)}},{key:"setup_panels",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;var e=["MissionComplete"];f.a.isEqual(this.state.panel,e)||this.setState({panels:e})}},{key:"render_panel",value:function(){return this.state.panels[this.state.active_panel_index],a.a.createElement(vt,{on_free_plan:"free"===this.props.plan_name,course:this.props.in_course})}},{key:"render_next",value:function(){return this.state.panels.length-1<=this.state.active_panel_index?a.a.createElement(Pt,null):a.a.createElement(Ue.a,{color:"gray",text:"Next",icon:"right",onClick:this._next})}},{key:"render",value:function(){return a.a.createElement("div",{className:"MissionEnd__root"},a.a.createElement("div",{className:"MissionEnd__panel"},this.render_panel()),a.a.createElement("div",{className:"MissionEnd__footer"},a.a.createElement("div",{className:"MissionEnd__footer_back"},a.a.createElement(Ue.a,{color:"gray",onDark:!0,text:"Back",icon:"left",onClick:this._back})),a.a.createElement(ot,{count:this.state.panels.length,active_index:this.state.active_panel_index,onSelect:this._change_panel}),a.a.createElement("div",{className:"MissionEnd__footer_forward"},this.render_next())))}}]),t}();on.propTypes={in_course:l.a.object.isRequired,get_end_info:l.a.func.isRequired,mission_sequence:l.a.string.isRequired,back_step:l.a.func.isRequired,open_end_of_mission:l.a.bool.isRequired,plan_name:l.a.string.isRequired},on.displayName="MissionEnd";var sn=function(e){function t(){return Zt(this,t),$t(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return en(t,a.a.PureComponent),Vt(t,[{key:"render",value:function(){return this.props.open_end_of_mission?a.a.createElement(Rt,null,a.a.createElement(on,this.props)):null}}]),t}();sn.propTypes={open_end_of_mission:l.a.bool.isRequired},sn.displayName="MissionEndInPopup";var an=Object(p.b)(rn,nn)(sn),cn=n(1398),ln=n.n(cn),pn=n(205);n.d(t,"selectors",function(){return dn}),n.d(t,"actions",function(){return hn}),n.d(t,"TheMission",function(){return bn});var un=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_n={"./TheMission.scss":{root:"TheMission__root",split_pane:"TheMission__split_pane",not_interactive:"TheMission__not_interactive",is_interactive:"TheMission__is_interactive"}};function fn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var dn=(Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e})({mission_info:V.d.mission_info,is_logged_in:ye.b.is_logged_in,is_new_user:ye.b.is_new_user,editor_type:function(e){return C.c.current_step_info(e).type}},f.a.pick(ve.b,["autocomplete","editor_theme","text_theme"]),{settings_loading:ve.b.is_loading}),hn={setup_mission:V.b.setup_mission,on_mission_heartbeat:V.b.on_mission_heartbeat,get_mission_files:pn.a.get_mission_files},mn=Object(u.createStructuredSelector)(dn),yn=["snippet_runner","command_line","widget","jupyter","file_editor"],bn=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=fn(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={steps_open:!1,min_split_width:200,max_split_width:1e3,split_size:null,user_split_size:"50%",is_dragging:!1},r.updateSplitSize=function(e){var t=yn.indexOf(e)>-1?r.state.user_split_size:"100%";r.setState({split_size:t})},r.updateWindowDimensions=function(){var e=.3*window.innerWidth,t=.7*window.innerWidth;r.setState({min_split_width:e,max_split_width:t})},r.send_heartbeat=function(){"hidden"!==document.visibilityState&&r.props.is_logged_in&&r.props.on_mission_heartbeat()},r.toggle_steps_open=function(){return r.setState({steps_open:!r.state.steps_open})},r.drag_start_handler=function(){r.setState({is_dragging:!0})},r.drag_end_handler=function(){r.setState({is_dragging:!1})},r.size_change_handler=function(e){var t=e/window.innerWidth*100+"%";r.setState({split_size:t,user_split_size:t})},fn(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),un(t,[{key:"componentDidMount",value:function(){this.updateSplitSize(this.props.editor_type),this.updateWindowDimensions(),this.possibly_load_files(this.props),window.addEventListener("mousemove",this.send_heartbeat,{passive:!0}),window.addEventListener("keyup",this.send_heartbeat,{passive:!0}),window.addEventListener("wheel",this.send_heartbeat,{passive:!0}),window.addEventListener("resize",this.updateWindowDimensions,{passive:!0})}},{key:"componentWillReceiveProps",value:function(e){this.possibly_load_files(e,this.props),this.updateSplitSize(e.editor_type)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("mousemove",this.send_heartbeat),window.removeEventListener("keyup",this.send_heartbeat),window.removeEventListener("wheel",this.send_heartbeat),window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"possibly_load_files",value:function(e,t){var n=e.mission_info,r=n.id,o=n.overall_type;r&&r!==f.a.get(t,"mission_info.id")&&"mission"===o&&e.get_mission_files(r)}},{key:"render",value:function(){var e=this.state.is_dragging?"not_interactive":"is_interactive";return a.a.createElement("div",{className:"TheMission__root"},a.a.createElement(ln.a,{className:"TheMission__split_pane",minSize:this.state.min_split_width,maxSize:this.state.max_split_width,defaultSize:"50%",size:this.state.split_size,split:"vertical",onChange:this.size_change_handler,onDragStarted:this.drag_start_handler,onDragFinished:this.drag_end_handler},a.a.createElement("div",{className:i()(e,_n)},a.a.createElement(xe,null)),a.a.createElement("div",{className:i()(e,_n)},a.a.createElement(Se.a,null))),this.state.steps_open&&a.a.createElement(He,{onClose:this.toggle_steps_open}),a.a.createElement(Ve,{onOpenSteps:this.toggle_steps_open}),!this.props.dont_show_end&&a.a.createElement(an,null))}}]),t}();bn.propTypes={dont_show_end:l.a.bool,is_logged_in:l.a.bool.isRequired,is_new_user:l.a.bool.isRequired,mission_info:l.a.shape({id:l.a.string.isRequired,overall_type:l.a.string.isRequired}).isRequired,editor_type:l.a.string.isRequired,editor_theme:l.a.string,autocomplete:l.a.bool,on_mission_heartbeat:l.a.func.isRequired,get_mission_files:l.a.func.isRequired},bn.displayName="TheMission";t.default=Object(p.b)(mn,hn)(bn)}}]);
//# sourceMappingURL=TheMission.67ad5a4b5c62dc55a40f.js.map